import { Component } from '@angular/core';
import { MusicService } from '../services/music.service';
import { ModalController } from '@ionic/angular';
import { SongsModalPage } from '../songs-modal/songs-modal.page';

@Component({
  selector: 'app-home',
  templateUrl: 'home.page.html',
  styleUrls: ['home.page.scss'],
})
export class HomePage {
  artists: any;
  localArtists: any; 
  song = {
    name: '',
    playing: false,
    preview_url: '',
    
  } 
  currentSong: any;
  newTime: any;
  albums: any;  

  artlo = [
    { name: 'Marcos Vidal', image: 'https://lastfm.freetls.fastly.net/i/u/ar0/3b942814e00aaf5c00262c7f2c5368ed.jpg' },
    { name: 'Lilly Goodman', image: 'data:image/jpeg;base64,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' },
    { name: 'Jesus Adrian', image: 'https://akamai.sscdn.co/uploadfile/letras/fotos/7/6/8/7/76872cc1b7f45b83cce5cf5b391f79c0.jpg' },
    { name: 'Juan Alvarado', image: 'https://cdns-images.dzcdn.net/images/artist/77bda4e0f3b5779da25903effd63bc84/500x500.jpg' },
    { name: 'Daniel Calveti', image: 'https://icz-desk.s3.us-west-2.amazonaws.com/artists/20.jpg' },
    { name: 'Kari Jobe', image: 'data:image/jpeg;base64,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' },
  ];

  constructor(
    private musicService: MusicService,
    private modalController: ModalController
  ) {}

  ionViewDidEnter() {
    // Obteniendo los artistas
    this.musicService.getArtists().then((listArtists) => {
      this.artists = listArtists;      
    });

    // Obteniendo artistas locales
    this.localArtists = this.musicService.getArtistsFromJson();
    this.localArtists = this.localArtists.artists ;
    
    // Obteniendo Albums
    this.musicService.getAlbums().then(listAlbums => {
      this.albums = listAlbums;
    })
    
  }

  async showSongs(artist: any) {
    console.log(artist);
    const songs = await this.musicService.getArtistsTracks(artist.id);
    console.log(songs);
    const modal = await this.modalController.create({
      component: SongsModalPage,
      componentProps: {
        songs: songs,
        artist: artist.name
      }
    }
  );
  modal.onDidDismiss().then( dataReturned =>{
    this.song = dataReturned.data;
  })
  return await modal.present();
  }

  async showAlbumSongs(album: any) {
    //console.log(artist);
    const songs = await this.musicService.getAlbumsTracks(album.id);
    //console.log(songs);
    const modal = await this.modalController.create({
      component: SongsModalPage,
      componentProps: {
        songs: songs,
        artist: album.name
      }
    }
  );
  modal.onDidDismiss().then( dataReturned =>{
    this.song = dataReturned.data;
  })
  return await modal.present();
  }

  play(){
    this.currentSong = new Audio(this.song.preview_url);
    this.currentSong.play();    
    this.currentSong.addEventListener("timeupdate", () =>{
      this.newTime = (1 / this.currentSong.duration) * this.currentSong.currentTime;
    })
    this.song.playing = true;
  }
  pause(){
    this.currentSong.pause();
    this.song.playing = false;
  }

  parseTime(time = "1.00"){
    if (time){
      const partTime = parseInt(time.toString().split(".")[0], 10);
      let minutes = Math.floor(partTime / 60).toString();
      if (minutes.length == 1){
        minutes = "0"  + minutes;
      }
      let seconds = (partTime % 60).toString();
      if (seconds.length == 1){
        seconds = "0" + seconds;
      }
      return minutes + ":" + seconds
    }else{
      return "0:00"
    }
  }

}
